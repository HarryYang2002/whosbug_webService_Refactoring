å‚è€ƒäº†ç°æœ‰æ•°æ®è¡¨æ ¼åï¼Œæˆ‘è®¤ä¸º(webservice)ç”¨æˆ·ä¿¡æ¯è¡¨æ ¼åº”è¯¥å…·æœ‰ä»¥ä¸‹å­—æ®µï¼š

## è¡¨å: **users**

| å­—æ®µå          | å­—æ®µç±»å‹                 | æ˜¯å¦å¯ä¸ºç©º | é»˜è®¤å€¼(å¦‚æœæœ‰çš„è¯)                            | å¤‡æ³¨                                                |
| --------------- | ------------------------ | ---------- | --------------------------------------------- | --------------------------------------------------- |
| user_id         | uuid                     | not null   | webserviceè°ƒç”¨google.uuidè¿›è¡Œè®¡ç®—ï¼Œä¼ å…¥æ•°æ®åº“ | ğŸ“Œä¸»é”®(primary key)ï¼Œé“¾æ¥==user_token==              |
| user_name       | char vary(150)           | not null   |                                               |                                                     |
| user_first_name | char vary(150)           |            |                                               | ç”¨æˆ·é€‰å¡«                                            |
| user_last_name  | char vary(150)           |            |                                               | ç”¨æˆ·é€‰å¡«                                            |
| user_email      | char vary(255)           |            |                                               |                                                     |
| user_token      | char vary(40)            | not null   |                                               |                                                     |
| user_created    | timestamp with time zone | not null   | time()                                        | è´¦å·åˆ›å»ºæ—¶é—´(æœ¬æ¬¡é‡æ„è€ƒè™‘åˆ é™¤)                      |
| user_password   | char vary(128)           | not null   |                                               | ä½¿ç”¨MD5åŠ å¯†åä¼ å…¥æ•°æ®åº“ï¼Œé˜²æ­¢æ•°æ®åº“æ³„éœ²åçš„æ’åº“æ”»å‡» |
| user_superuser  | bool                     | not null   |                                               | è´¦å·æƒé™(æœ¬æ¬¡é‡æ„è€ƒè™‘åˆ é™¤)                          |

```postgresql
CREATE TABLE IF NOT EXISTS public.users
(
    user_id uuid NOT NULL,
    user_name character varying(150) NOT NULL,
    user_first_name character varying(150),
    user_last_name character varying(150),
    user_email character varying(255),
    user_token character varying(40) NOT NULL,
    user_password character varying(128),
    PRIMARY KEY (user_id)
);

ALTER TABLE IF EXISTS public.users
    OWNER to postgres;
```

## **user_tokens**

| å­—æ®µå  | å­—æ®µç±»å‹      | æ˜¯å¦å¯ä¸ºç©º | é»˜è®¤å€¼ | å¤‡æ³¨               |
| ------- | ------------- | ---------- | ------ | ------------------ |
| token   | char vary(40) | not null   |        | ğŸ“Œä¸»é”®(primary key) |
| user_id | uuid          | not null   |        | é“¾æ¥==user==       |

> è¿™æ˜¯å‚è€ƒåŸå§‹æ¡†æ¶çš„æ•°æ®åº“è¡¨æ ¼è®¾è®¡ï¼Œä½†æ˜¯æˆªæ­¢ç›®å‰(@8/11 å®Œæˆapi~ç³»åˆ—çš„è·¯ç”±ç»„é‡æ„ï¼Œæš‚æ—¶æ²¡æœ‰å‘ç°ä½¿ç”¨user_tokensè¡¨æ ¼çš„å¿…è¦æ€§ï¼Œéœ€æ±‚éƒ½å¯ä»¥ä½¿ç”¨userså®ç°)

â—è¿™æ˜¯æœåŠ¡å™¨æ“ä½œè´¦å·çš„è¡¨æ ¼ï¼Œä¸æ˜¯git commitä½œè€…(è´£ä»»äºº)çš„è¡¨æ ¼ï¼

-----

# ***git commitä¿¡æ¯è¡¨***

## è¡¨å:**projects**

| å­—æ®µå     | å­—æ®µç±»å‹ | æ˜¯å¦å¯ä¸ºç©º | é»˜è®¤å€¼     | å¤‡æ³¨                            |
| ---------- | -------- | ---------- | ---------- | ------------------------------- |
| table_id   | serial   | not null   | æ•°æ®åº“è‡ªå¢ | ğŸ“Œä¸»é”®, æ— ç‰¹æ®Šæ„ä¹‰               |
| project_id | integer  | not null   |            | ğŸ§©å³pid, è¯¥è¡¨ä¸­å…·æœ‰<u>å”¯ä¸€æ€§</u> |

```postgresql
CREATE TABLE public.projects
(
    table_id serial NOT NULL,
    project_id integer NOT NULL,
    PRIMARY KEY (table_id),
    CONSTRAINT "pidå”¯ä¸€ç¡®å®šä¸€ä¸ªé¡¹ç›®" UNIQUE (project_id)
);

ALTER TABLE IF EXISTS public.projects
    OWNER to postgres;
```

## **releases**

| å­—æ®µå           | å­—æ®µç±»å‹      | æ˜¯å¦å¯ä¸ºç©º | é»˜è®¤å€¼     | å¤‡æ³¨                                                         |
| ---------------- | ------------- | ---------- | ---------- | ------------------------------------------------------------ |
| table_id         | serial        | not null   | æ•°æ®åº“è‡ªå¢ | ğŸ“Œä¸»é”®                                                        |
| release_version  | varchar(200)  | not null   |            | ğŸ§©ç‰ˆæœ¬å·                                                      |
| last_commit_hash | varchar(1000) | not null   |            | è®°å½•è¯¥versionæœ€åä¸€æ¬¡commit_hashï¼Œè¡¨ä¸­<u>åº”æœ‰å”¯ä¸€æ€§ï¼Œä½†åŸæ¡†æ¶æ²¡æœ‰è®¾ç½®çº¦æŸï¼Œæœ¬æ¬¡é‡æ„ä¾æ—§</u> |
| project_id       | integer       | not null   |            | ğŸ§©ğŸ”—å¤–é”®ï¼Œé“¾æ¥**projects**è¡¨æ ¼çš„åŒåå­—æ®µ(çº§è”åˆ é™¤)             |

> å¤åˆå”¯ä¸€æ€§çº¦æŸUNIQUE CONSTRAINT (project_id, release_version)

```postgresql
CREATE TABLE public.releases
(
    table_id serial NOT NULL,
    release_version character varying(200) NOT NULL,
    last_commit_hash character varying(1000) NOT NULL,
    project_id integer NOT NULL,
    PRIMARY KEY (table_id),
    CONSTRAINT "pidå’Œversionå”¯ä¸€ç¡®å®šä¸€ä¸ªrelease" UNIQUE (release_version, project_id),
    CONSTRAINT "å¯¹åº”pid" FOREIGN KEY (project_id)
        REFERENCES public.projects (project_id) MATCH SIMPLE
        ON UPDATE NO ACTION
        ON DELETE CASCADE
        NOT VALID
);

ALTER TABLE IF EXISTS public.releases
    OWNER to postgres;
```

## **commits**

> å¯¹åº”äº<font color = 'green'>\<POST></font>/whosbug/commits/commits-info/ï¼š
>
> {
>
> â€‹	"project": { "pid": "123" },
> â€‹	"release": {
> â€‹		"version": "5.0",
> â€‹		"last_commit_hash": "IGTmZ+aSzNUTkGtZwplohhxw1qDrJn8i1LNIuulc685xG+wjuIZhhD4="
> â€‹	},
> â€‹	"commits": [
> â€‹		{
> â€‹			"hash": "IGTmZ+aSzNUTkGtZwplohhxw1qDrJn8i1LNIuulc685xG+wjuIZhhA==",
> â€‹			"email": "eGfya7/OyJkBzmh60M1g3G5UoLjouSM=",
> â€‹			"author": "kevinmatthe",
> â€‹			"time": "2021-10-14T20:43:08+08:00"
> â€‹		},
>
> â€‹		{
> â€‹			"hash": "dzqwMOPAm9oQkzwNkJ8/ieAKOcyXSlPHT8SgxVhc1Aj+9BAqsg37kQ==",
> â€‹			"email": "eGfya7/OyJkBzmh60M1g3G5UoLjouSM=",
> â€‹			"author": "kevinmatthe",
> â€‹			"time": "2021-10-14T17:16:05+08:00"
> â€‹		}
> â€‹	]
> }

| å­—æ®µå           | å­—æ®µç±»å‹      | æ˜¯å¦å¯ä¸ºç©º | é»˜è®¤å€¼     | å¤‡æ³¨                                                         |
| ---------------- | ------------- | ---------- | ---------- | ------------------------------------------------------------ |
| table_id         | bigserial     | not null   | æ•°æ®åº“è‡ªå¢ | ğŸ“Œä¸»é”®,æ— ç‰¹æ®Šæ„ä¹‰ï¼Œgolangä¸­å¯ä»¥ä½¿ç”¨uint64ä½œä¸ºä¼ è¾“ç»“æ„;        |
| hash             | varchar(1000) | not null   |            | ğŸ§©<u>åº”è¯¥å…·æœ‰å”¯ä¸€æ€§ï¼Œä½†åŸæ¡†æ¶å¯èƒ½æ¯”è¾ƒä¸¥è°¨ï¼Œå¹¶æœªå¯¹å…¶åšå”¯ä¸€çº¦æŸï¼Œæœ¬æ¬¡é‡æ„ä¾æ—§</u> |
| time             | varchar(1000) | not null   |            |                                                              |
| author           | varchar(1000) | not null   |            |                                                              |
| email            | varchar(1000) | not null   |            |                                                              |
| release_table_id | integer       | not null   |            | ğŸ§©ğŸ”—å¤–é”®ï¼Œé“¾æ¥**releases**è¡¨æ ¼çš„table_id(æ ¹æ®pidï¼Œversionï¼Œlast_commit_hashæŸ¥è¯¢å¾—å‡º),(çº§è”åˆ é™¤) |

> å¤åˆå”¯ä¸€æ€§çº¦æŸ: (hash, release_table_id)

```postgresql
CREATE TABLE public.commits
(
    table_id bigserial NOT NULL,
    hash character varying(1000) NOT NULL,
    "time" character varying(1000) NOT NULL,
    author character varying(1000) NOT NULL,
    email character varying(1000) NOT NULL,
    release_table_id integer NOT NULL,
    PRIMARY KEY (table_id),
    CONSTRAINT "hashå’Œreleaseå”¯ä¸€ç¡®å®šä¸€è¡Œ" UNIQUE (hash, release_table_id),
    CONSTRAINT "å¯¹åº”çš„release" FOREIGN KEY (release_table_id)
        REFERENCES public.releases (table_id) MATCH SIMPLE
        ON UPDATE NO ACTION
        ON DELETE CASCADE
        NOT VALID
);

ALTER TABLE IF EXISTS public.commits
    OWNER to postgres;
```

## **nodes**

> è®°å½•æ¯ä¸ªReleaseä¸‹çš„å®Œæ•´è¯­æ³•æ ‘
> // æ—§ç‰ˆçš„å †æ ˆåˆ†ææ¥å£ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬éœ€è¦é‡æ„çš„é‚£ä¸ªæ¥å£ä¼šä¼ è¾“è¿™ä¸ªæ¨¡å‹
> // ä¸ºä»€ä¹ˆï¼Œä¸ºä»€ä¹ˆä¸¤ä¸ªä¸ä¸€æ ·çš„ä¸œè¥¿è¦å–ä¸€æ ·çš„åå­—
> // æˆ‘ä»¬çš„æ•°æ®åº“ä¸­ï¼Œè¿™ä¸ªæ¨¡å‹ç”¨Table: nodeså­˜å‚¨
>
> Object{
>     path: objectæ‰€åœ¨è·¯å¾„ varchar
>     object_id: objectååŠçˆ¶ç±»é“¾ç»„æˆçš„æ ‡è¯†ç¬¦ varchar
>     old_confidence: æ—§ç½®ä¿¡åº¦ float
>     confidence: å½“å‰ç½®ä¿¡åº¦ float
>     start_line: èµ·å§‹è¡Œ
>     end_line: ç»“æŸè¡Œ
>     owner_info: å­˜å‚¨ json
>     \- commit: å¤–é”®,éš¶å±äºçš„æœ€æ–°çš„Commit
> }
> Table: diffs_objects
> Constraints: å¤åˆä¸»é”®(path,object_id,release)
>
> å…¶ä¸­owner_jsonçš„ä¿¡æ¯ä¸º
>
> {"d2zoZg==": {"time": "ITK1NPyTmMBC8jwC
> npo4hSqQXHXHzClL", "email": "d2zoZv/QwZk1wWBbzcQg3Mt0", "weight": 0.67}}
>
> ```tex
> Object{
>     path: objectæ‰€åœ¨è·¯å¾„ varchar
>     object_id: objectååŠçˆ¶ç±»é“¾ç»„æˆçš„æ ‡è¯†ç¬¦ varchar
>     old_confidence: æ—§ç½®ä¿¡åº¦ float
>     confidence: å½“å‰ç½®ä¿¡åº¦ float
>     start_line: èµ·å§‹è¡Œ
>     end_line: ç»“æŸè¡Œ
>     owner_info: å­˜å‚¨ json
>     # commit: å¤–é”®,éš¶å±äºçš„æœ€æ–°çš„Commit
> }
> Table: diffs_objects
> Constraints: å¤åˆä¸»é”®(path,object_id,release)
> ```
>
> å› ä¸ºæ˜¯æˆ‘ä»¬è‡ªå·±é‡æ„çš„æ¥å£ï¼Œè€Œä¸”ä½•è…¾å¯¹å…¬å¼è¿›è¡Œäº†ä¼˜åŒ–ï¼Œæ‰€ä»¥å…·ä½“çš„å­—æ®µè¿˜éœ€è¦åå•†ï¼Œ**ä¸‹è¡¨æš‚æ—¶ä¸åœ¨æœ¬åœ°å»ºç«‹**

| ~~å­—æ®µå~~          | ~~å­—æ®µç±»å‹~~       | ~~æ˜¯å¦å¯ä¸ºç©º~~ | ~~é»˜è®¤å€¼~~     | ~~å¤‡æ³¨~~                                                    |
| ------------------- | ------------------ | -------------- | -------------- | ----------------------------------------------------------- |
| ~~table_id~~        | ~~bigserial~~      | ~~not null~~   | ~~æ•°æ®åº“è‡ªå¢~~ | ~~ä¸»é”®~~                                                    |
| ~~object_path~~     | ~~varchar(1000)~~  | ~~not null~~   |                | ~~objectæ‰€åœ¨è·¯å¾„~~                                          |
| ~~object_id~~       | ~~varchar(200)~~   | ~~not null~~   |                | ~~objectååŠçˆ¶ç±»é“¾ç»„æˆçš„æ ‡è¯†ç¬¦~~                            |
| ~~owner_info~~      | ~~jsonb~~          | ~~not null~~   |                | ~~å­˜å‚¨json~~                                                |
| ~~old_confidence~~  | ~~double~~         | ~~not null~~   |                | ~~æ—§ç½®ä¿¡åº¦~~                                                |
| ~~new_confidence~~  | ~~double~~         | ~~not null~~   |                | ~~å½“å‰ç½®ä¿¡åº¦~~                                              |
| ~~start_line~~      | ~~int~~            | ~~not null~~   |                |                                                             |
| ~~end_line~~        | ~~int~~            | ~~not null~~   |                |                                                             |
| ~~parameters~~      | ~~varchar(10000)~~ | ~~not null~~   |                | ~~æ–¹æ³•çš„å‚æ•°ç‰¹å¾~~                                          |
| ~~commit_table_id~~ | ~~int~~            | ~~not null~~   |                | ~~å¤–é”®ï¼Œé“¾æ¥**commits**è¡¨æ ¼çš„table_id(æ ¹æ®hashå€¼æŸ¥è¯¢å¾—å‡º)~~ |

> å‚è€ƒåŸæ•°æ®åº“<u>diffs_objects(ç¬¬7)</u>å»ºç«‹

```postgresql

```

## **uncounted_objects**

> *æœªè®¡ç®—è¡¨*
>
> å¯¹åº”äº<font color = 'green'>\<POST></font>/whosbug/commits/diffs/
>
> ä¸Šä¼ Object
> {
> 	"project": {
> 		"pid": "test"
> 	},
> 	"release": {
> 		"version": "5.0.0",
> 		"last_commit_hash": "5f424ce931a75ec032573cd85750745286383c4d"
> 	},
> 	"objects": [
> 		{
> 			"hash": "27c5237b06b3736076d58b7f7a86c28c6772a9a8",
> 			"object_id": "BankersAlgorithm.calculateNeed",
> 			"old_object_id": "",
> 			"path": "Others/BankersAlgorithm.java",
> 			"start_line": 36,
> 			"end_line": 43,
> 			"old_line_count": 1,
> 			"current_line_count": 8,
> 			"removed_line_count": 0,
> 			"added_new_line_count": 7
> 		}
> 	]
> }

| å­—æ®µå           | å­—æ®µç±»å‹       | æ˜¯å¦å¯ä¸ºç©º | é»˜è®¤å€¼     | å¤‡æ³¨                                                         |
| ---------------- | -------------- | ---------- | ---------- | ------------------------------------------------------------ |
| table_id         | bigserial      | not null   | æ•°æ®åº“è‡ªå¢ | ğŸ“Œä¸»é”®                                                        |
| parameters       | varchar(10000) | not null   |            | ğŸ§©æ–¹æ³•çš„å‚æ•°ç‰¹å¾                                              |
| hash             | varchar(1000)  | not null   |            | ğŸ§©<u>åœ¨è¯¥è¡¨ä¸­**æ²¡æœ‰å”¯ä¸€æ€§**</u>                               |
| start_line       | int            | not null   | 0          | ğŸ§©èµ·å§‹è¡Œ                                                      |
| end_line         | int            | not null   | 0          | ğŸ§©ç»“æŸè¡Œ                                                      |
| object_path      | varchar(1000)  | not null   |            | ğŸ§©objectæ‰€åœ¨è·¯å¾„, Unique                                      |
| new_object_id    | varchar(1000)  | not null   |            | ğŸ§©objectçš„å®šä¹‰é“¾ID, Unique                                    |
| old_object_id    | varchar(1000)  |            |            | objectçš„æ—§å®šä¹‰é“¾ID                                           |
| old_line         | int            | not null   | 0          | æ—§è¡Œæ•°                                                       |
| new_line         | int            | not null   | 0          | æ–°è¡Œæ•°                                                       |
| deleted_line     | int            | not null   | 0          | ç§»é™¤çš„è¡Œæ•°                                                   |
| added_line       | int            | not null   | 0          | æ–°å¢è¡Œæ•°                                                     |
| release_table_id | integer        | not null   |            | ğŸ”—å¤–é”®ï¼Œé“¾æ¥**releases**è¡¨æ ¼çš„table_id(æ ¹æ®pid,version,last_commit_hashæŸ¥è¯¢å¾—å‡º)ï¼Œçº§è”åˆ é™¤ |
| commit_table_id  | bigint         | not null   |            | ğŸ§©ğŸ”—å¤–é”®ï¼Œé“¾æ¥**commits**è¡¨æ ¼çš„table_id(æ ¹æ®hash,release_table_idæŸ¥è¯¢å¾—å‡º)ï¼Œçº§è”åˆ é™¤ |

> å‚è€ƒåŸæ•°æ®åº“<u>diffs_objects_change(ç¬¬6)</u>å»ºç«‹
>
> å¤åˆå”¯ä¸€çº¦æŸï¼š(object_path, new_object_id, hash, commit_table_id, parameters, start_line, end_line)

```postgresql
CREATE TABLE public.uncounted_objects
(
    table_id bigserial NOT NULL,
    parameters character varying(10000) NOT NULL,
    hash character varying(1000) NOT NULL,
    start_line integer NOT NULL DEFAULT 0,
    end_line integer NOT NULL DEFAULT 0,
    object_path character varying(1000) NOT NULL,
    new_object_id character varying(1000) NOT NULL,
    old_object_id character varying(1000),
    old_line integer NOT NULL DEFAULT 0,
    new_line integer NOT NULL DEFAULT 0,
    deleted_line integer NOT NULL DEFAULT 0,
    added_line integer NOT NULL DEFAULT 0,
    release_table_id integer NOT NULL,
    commit_table_id bigint NOT NULL,
    PRIMARY KEY (table_id),
    CONSTRAINT "å”¯ä¸€ç¡®å®šobjectäº¦ç§°å‡½æ•°" UNIQUE (parameters, hash, start_line, object_path, new_object_id, commit_table_id, end_line),
    CONSTRAINT "å”¯ä¸€ç¡®å®šrelease" FOREIGN KEY (release_table_id)
        REFERENCES public.releases (table_id) MATCH SIMPLE
        ON UPDATE NO ACTION
        ON DELETE CASCADE
        NOT VALID,
    CONSTRAINT "å”¯ä¸€ç¡®å®šcommit" FOREIGN KEY (commit_table_id)
        REFERENCES public.commits (table_id) MATCH SIMPLE
        ON UPDATE NO ACTION
        ON DELETE CASCADE
        NOT VALID
);

ALTER TABLE IF EXISTS public.uncounted_objects
    OWNER to postgres;
```



---

è‡ªåŠ¨å»ºè¡¨ç¨‹åº

```go
package main

import (
	"gorm.io/driver/postgres"
	"gorm.io/gorm"
)


const schemaUsers = `
CREATE TABLE IF NOT EXISTS public.users
(
    user_id uuid NOT NULL,
    user_name character varying(150) NOT NULL,
    user_first_name character varying(150),
    user_last_name character varying(150),
    user_email character varying(255),
    user_token character varying(40) NOT NULL,
    user_password character varying(128),
    PRIMARY KEY (user_id)
);
`

const schemaProjects = `
CREATE TABLE IF NOT EXISTS public.projects
(
    table_id serial NOT NULL,
    project_id integer NOT NULL,
    PRIMARY KEY (table_id),
    CONSTRAINT "pidå”¯ä¸€ç¡®å®šä¸€ä¸ªé¡¹ç›®" UNIQUE (project_id)
);
`

const schemaReleases = `
CREATE TABLE IF NOT EXISTS public.releases
(
    table_id serial NOT NULL,
    release_version character varying(200) NOT NULL,
    last_commit_hash character varying(1000) NOT NULL,
    project_id integer NOT NULL,
    PRIMARY KEY (table_id),
    CONSTRAINT "pidå’Œversionå”¯ä¸€ç¡®å®šä¸€ä¸ªrelease" UNIQUE (release_version, project_id),
    CONSTRAINT "å¯¹åº”pid" FOREIGN KEY (project_id)
        REFERENCES public.projects (project_id) MATCH SIMPLE
        ON UPDATE NO ACTION
        ON DELETE CASCADE
        NOT VALID
);
`

const schemaCommits = `
CREATE TABLE IF NOT EXISTS public.commits
(
    table_id bigserial NOT NULL,
    hash character varying(1000) NOT NULL,
    "time" character varying(1000) NOT NULL,
    author character varying(1000) NOT NULL,
    email character varying(1000) NOT NULL,
    release_table_id integer NOT NULL,
    PRIMARY KEY (table_id),
    CONSTRAINT "hashå’Œreleaseå”¯ä¸€ç¡®å®šä¸€è¡Œ" UNIQUE (hash, release_table_id),
    CONSTRAINT "å¯¹åº”çš„release" FOREIGN KEY (release_table_id)
        REFERENCES public.releases (table_id) MATCH SIMPLE
        ON UPDATE NO ACTION
        ON DELETE CASCADE
        NOT VALID
);
`

const schemaUncountedObjects = `
CREATE TABLE IF NOT EXISTS public.uncounted_objects
(
    table_id bigserial NOT NULL,
    parameters character varying(10000) NOT NULL,
    hash character varying(1000) NOT NULL,
    start_line integer NOT NULL DEFAULT 0,
    end_line integer NOT NULL DEFAULT 0,
    object_path character varying(1000) NOT NULL,
    new_object_id character varying(1000) NOT NULL,
    old_object_id character varying(1000),
    old_line integer NOT NULL DEFAULT 0,
    new_line integer NOT NULL DEFAULT 0,
    deleted_line integer NOT NULL DEFAULT 0,
    added_line integer NOT NULL DEFAULT 0,
    release_table_id integer NOT NULL,
    commit_table_id bigint NOT NULL,
    PRIMARY KEY (table_id),
    CONSTRAINT "å”¯ä¸€ç¡®å®šobjectäº¦ç§°å‡½æ•°" UNIQUE (parameters, hash, start_line, object_path, new_object_id, commit_table_id, end_line),
    CONSTRAINT "å”¯ä¸€ç¡®å®šrelease" FOREIGN KEY (release_table_id)
        REFERENCES public.releases (table_id) MATCH SIMPLE
        ON UPDATE NO ACTION
        ON DELETE CASCADE
        NOT VALID,
    CONSTRAINT "å”¯ä¸€ç¡®å®šcommit" FOREIGN KEY (commit_table_id)
        REFERENCES public.commits (table_id) MATCH SIMPLE
        ON UPDATE NO ACTION
        ON DELETE CASCADE
        NOT VALID
);
`

func main() {
	dsn := "host=localhost user=postgres password=endata dbname=whosbugdemo port=60000 " +
		"sslmode=disable TimeZone=Asia/Shanghai"
	db, err := gorm.Open(postgres.Open(dsn), &gorm.Config{})
	if err != nil {
		err.Error()
	}
	_, err = db.Raw(schemaUsers).Rows() // è°ƒç”¨åŸå§‹SQLè¯­å¥å»ºè¡¨
    _, err = db.Raw(schemaProjects).Rows()
    _, err = db.Raw(schemaReleases).Rows()
    _, err = db.Raw(schemaCommits).Rows()
    _, err = db.Raw(schemaUncountedObjects).Rows()
	if err != nil {
		err.Error()
	}
}
```

- [x] TODO ç°æœ‰å®½è¡¨åœ¨è®¾è®¡å’Œç¼–ç¨‹å®ç°æ—¶è¾ƒä¸ºæ–¹ä¾¿ï¼Œä½†æ˜¯åœ¨æ¨¡å‹è®¡ç®—æ—¶å¯èƒ½æ•ˆç‡è¾ƒä½

@TODO æ•°æ®åº“åŠ ä¸Šindexä¼šåŠ å¿«æŸ¥è¯¢é€Ÿåº¦ï¼Ÿçœ‹çœ‹å“ªä¸ªå­—æ®µå¯ä»¥è¯•éªŒä¸€ä¸‹
